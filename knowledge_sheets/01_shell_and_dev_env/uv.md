# UV — Project & Virtual Environments Cheat Sheet (Recommended Workflow)

Use this workflow when your project has a `pyproject.toml`.
It keeps dependencies **reproducible** via `uv.lock`.

---

## What is `pyproject.toml`?

`pyproject.toml` is the **central configuration file** of a modern Python project.

It defines:
- project metadata (name, Python version)
- dependencies and dependency groups
- tool configuration

It describes **what your project needs** — not exact versions.

---

## What is `uv.lock`?

`uv.lock` is a **lock file** generated by UV.

It records:
- exact versions of all dependencies
- transitive dependencies
- hashes for reproducibility

It guarantees that everyone installs **the same environment**.

> `pyproject.toml` = intent  
> `uv.lock` = exact resolved reality

---

## Install UV

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```
or
```bash
brew install uv
```

## Create a New Project

```bash
uv init
```

### Create a Virtual Environment with UV

Create a virtual environment using the default name (`.venv`):

```bash
uv venv
```

### Create a virtual environment with a hidden folder name (recommended):

```bash
uv venv .myvenv
```

### Add Dependencies (Recommended)

```bash
uv add pandas scikit-learn
```

### Add dev deps (test/lint tools):

```bash
uv add --group dev pytest ruff
```

uv add updates pyproject.toml and manages locking. 

### Create/Update Lockfile

```bash
uv lock
```

Resolves and writes uv.lock (reproducible dependency set). 

### Install Dependencies Into the Project Environment

```bash
uv sync
```

Creates/updates .venv/ and installs from the lockfile. 


### Run Commands (No Manual Activation Needed)

```bash
uv run python script.py
```

```bash
uv run pytest
```

```bash
uv run uses the project environment automatically. 
```

### (Optional) Activate the venv Manually

```bash
source .venv/bin/activate
```

```bash
deactivate
```

(Activation is optional if you use uv run.) 

### Import Existing requirements.txt Into pyproject.toml

```bash
uv add -r requirements.txt
```

Also supports dev requirements:

```bash
uv add --group dev -r requirements-dev.txt
```


